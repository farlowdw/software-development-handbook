```python
class Solution:
    def isUnivalTree(self, root: Optional[TreeNode]) -> bool:
        unival = root.val
        
        def dfs(node):
            if not node:
                return True
            
            return node.val == unival and dfs(node.left) and dfs(node.right)
        
        return dfs(root)
```

Note that the `nonlocal` keyword does not need to be used because we're not updating `unival` from within the `dfs` function.