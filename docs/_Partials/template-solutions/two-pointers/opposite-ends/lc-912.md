```python
class Solution:
    def partition(self, arr, l, r, pivot):
        first_pivot = l
        while l <= r:
            if arr[l] < pivot:
                arr[first_pivot], arr[l] = arr[l], arr[first_pivot]
                l += 1
                first_pivot += 1
            elif arr[l] == pivot:
                l += 1
            else:
                arr[r], arr[l] = arr[l], arr[r]
                r -= 1

        return first_pivot, r
    
    def qsort_inplace(self, arr, left, right):
        if left >= right:
            return
        
        pivot = arr[random.randint(left, right)]
        pivot_start, pivot_end = self.partition(arr, left, right, pivot)
        self.qsort_inplace(arr, left, pivot_start - 1)
        self.qsort_inplace(arr, pivot_end + 1, right)
        
    def sortArray(self, nums: List[int]) -> List[int]:
        self.qsort_inplace(nums, 0, len(nums) - 1)
        return nums
```